# $Id: config.properties,v 1.3 2009/09/16 10:46:34 weberent Exp $
#
# Projet CRLR - Conseil Regional Languedoc Roussillon.
# Copyright (c) 2009 Bull SAS

# Paramètres de connexion à la base de données
#

# Driver
db.jar=mysql-connector-java-5.0.5.jar
db.driver=com.mysql.jdbc.Driver
hibernate.dialect=org.hibernate.dialect.MySQLDialect
hibernate.showSql=false


# URL de la base de données du module Grr
db.grr.url=jdbc:mysql://condor.giprecia.net:3306/grr2_netocentre
# User
db.grr.user=grr2_netocentre
# Password
db.grr.password=AGRRmpll2NoC
# Prefixe tables grr
db.grr.prefixe=grr_

##
# Paramètres de connexion LDAP
##

# URL
#ldap.url=ldap://pigeon.giprecia.net:389
ldap.url=ldap://sterne.giprecia.net:389

# User
ldap.user=cn=synchro,ou=administrateurs,dc=esco-centre,dc=fr
# Password
#ldap.password=vxcG5H9ro5
ldap.password=T95NtxPz7t

ldap.baseDn=dc=esco-centre,dc=fr
ldap.brancheStructure=structures
ldap.branchePersonne=people

#Les noms des attributs LDAP pour les structures
ldap.structure.code=ENTStructureUAI
ldap.structure.nom.court=ENTStructureNomCourant
ldap.structure.nom.long=ou
ldap.structure.ville=l
ldap.structure.adresse=street
ldap.structure.cp=postalCode

#Les noms des attributs LDAP pour les personnes
ldap.personne.nom=sn
ldap.personne.prenom=givenName
ldap.personne.email=mail
#Email utilisé par défaut si l'utilisateur à inserrer n'a pas d'email.
ldap.defaultEmail=no-reply@netocentre.fr

#Identification des administrateurs GRR
ldap.profil.admin.attribut=isMemberOf
#ldap.profil.admin.regexp=(.*):admin:GRR:central
ldap.profil.admin.regexp=(esco|agri|clg37):admin:GRR:central

#Identification des administrateurs établissements
ldap.profil.adminEtab.attribut=isMemberOf
#ldap.profil.adminEtab.regexp=(.*):admin:GRR:local:([^_]*)_(.*)
#ldap.profil.adminEtab.regexp=(esco|agri|clg37):admin:GRR:local:([^_]*)_(.*)
ldap.profil.adminEtab.regexp=((esco|agri|clg37):admin:GRR:local:([^_]*)_(.*))|(cfa:admin:GRR:local:CFA AGRICOLE(.*))

#Chaine de caractère identifiant le début et la fin de l'établissement pour les admin étab
ldap.admin.etablissement.code.start=_
ldap.admin.etablissement.code.stop=

#Identification des utilisateurs GRR
ldap.usager.etablissements.attribut=isMemberOf
#ldap.usager.etablissements.regexp=(.*):GRR:([^_]*)_(.*) 
#ldap.usager.etablissements.regexp=(esco|agri|clg37):Applications:GRR:([^_]*)_(.*)
ldap.usager.etablissements.regexp=((esco|agri|clg37):Applications:GRR:([^_]*)_(.*))|(cfa:Applications:GRR:CFA AGRICOLE(.*))

#Chaine de caractère identifiant le début et la fin de l'établissement pour les utilisateurs
ldap.etablissement.code.start=_
ldap.etablissement.code.stop=

#Nom de l'attribut LDAP identifiant l'établissement principal
ldap.usager.etablissements.principal.attribut=ESCOUAIRattachement
#Traitement à effectuer sur l'attribut précédent ?
ldap.usager.etablissements.principal.attribut.useStartStopCode=false

#Filtres LDAP permettant de remonter tous les utilisateurs à traiter
#ldap.profil.utilisateur.filter=(objectClass=*)
#ldap.profil.utilisateur.filter=(|(isMemberOf=esco:Applications:GRR:*)(isMemberOf=agri:Applications:GRR:*)(isMemberOf=clg37:Applications:GRR:*))
ldap.profil.utilisateur.filter=(|(isMemberOf=esco:Applications:GRR:*)(isMemberOf=agri:Applications:GRR:*)(isMemberOf=clg37:Applications:GRR:*)(isMemberOf=cfa:Applications:GRR:CFA AGRICOLE*))
#ldap.profil.administrateurEtablissement.filter=
#ldap.profil.administrateurEtablissement.filter=(|(isMemberOf=esco:admin:GRR:local:*)(isMemberOf=agri:admin:GRR:local:*)(isMemberOf=clg37:admin:GRR:local:*))
ldap.profil.administrateurEtablissement.filter=(|(isMemberOf=esco:admin:GRR:local:*)(isMemberOf=agri:admin:GRR:local:*)(isMemberOf=clg37:admin:GRR:local:*)(isMemberOf=cfa:admin:GRR:local:CFA AGRICOLE*))
#ldap.profil.administrateur.filter=
ldap.profil.administrateur.filter=(|(isMemberOf=esco:admin:GRR:central)(isMemberOf=agri:admin:GRR:central)(isMemberOf=clg37:admin:GRR:central))

#ldap.profil.utilisateur.filter=(isMemberOf=*:GRR:*)
#ldap.profil.administrateurEtablissement.filter=(isMemberOf=*:admin:GRR:local:*)
#ldap.profil.administrateur.filter=(isMemberOf=*:admin:GRR:central)

##
# Paramètres annexes
##

#Création de site lors de la création d'établissement 
#Mettre à false lors de l'allimentation précédant une migration
grr.site.createSiteOnCreateEtab=true
#Nom utilisé lors de la création de site. 
grr.site.default=Site %nomCourt%
#Liste des domaines créés lors de la création d'un site
grr.domaines=Salles$Materiel
#Type de domaine (r pour un domaine restreint)
grr.domaine.type.default=

#Fichier contenant la date de dernière modification et permettant la synchronisation des comptes modifiés depuis
fichier.dateDerniereModif=./dateDerniereModif.txt
